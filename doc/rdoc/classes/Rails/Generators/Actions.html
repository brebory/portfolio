<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>Rails::Generators::Actions</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" href="../../../css/reset.css" type="text/css" media="screen" />
    <link rel="stylesheet" href="../../../css/main.css" type="text/css" media="screen" />
    <script src="../../../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../../js/main.js" type="text/javascript" charset="utf-8"></script>
</head>

<body>     
    <div class="banner">
        <h1>
            <span class="type">Module</span> 
            Rails::Generators::Actions 
            
        </h1>
        <ul class="files">
            
            <li><a href="../../../files/railties/lib/rails/generators/actions_rb.html">railties/lib/rails/generators/actions.rb</a></li>
            
        </ul>
    </div>
    <div id="bodyContent">
        <div id="content">
    

    

    
    

    
    
    <div class="sectiontitle">Methods</div>
    <dl class="methods">
    
        <dt>A</dt>
        <dd>
            <ul>
                
                <li><a href="#M000147">add_source</a>,</li>
                
                <li><a href="#M000149">application</a></li>
                
            </ul>
        </dd>
    
        <dt>C</dt>
        <dd>
            <ul>
                
                <li><a href="#M000157">capify!</a></li>
                
            </ul>
        </dd>
    
        <dt>E</dt>
        <dd>
            <ul>
                
                <li><a href="#M000148">environment</a>,</li>
                
                <li><a href="#M000161">extify</a></li>
                
            </ul>
        </dd>
    
        <dt>G</dt>
        <dd>
            <ul>
                
                <li><a href="#M000145">gem</a>,</li>
                
                <li><a href="#M000146">gem_group</a>,</li>
                
                <li><a href="#M000155">generate</a>,</li>
                
                <li><a href="#M000150">git</a></li>
                
            </ul>
        </dd>
    
        <dt>I</dt>
        <dd>
            <ul>
                
                <li><a href="#M000154">initializer</a></li>
                
            </ul>
        </dd>
    
        <dt>L</dt>
        <dd>
            <ul>
                
                <li><a href="#M000152">lib</a>,</li>
                
                <li><a href="#M000160">log</a></li>
                
            </ul>
        </dd>
    
        <dt>P</dt>
        <dd>
            <ul>
                
                <li><a href="#M000144">plugin</a></li>
                
            </ul>
        </dd>
    
        <dt>R</dt>
        <dd>
            <ul>
                
                <li><a href="#M000156">rake</a>,</li>
                
                <li><a href="#M000153">rakefile</a>,</li>
                
                <li><a href="#M000159">readme</a>,</li>
                
                <li><a href="#M000158">route</a></li>
                
            </ul>
        </dd>
    
        <dt>V</dt>
        <dd>
            <ul>
                
                <li><a href="#M000151">vendor</a></li>
                
            </ul>
        </dd>
    
    </dl>
    

    

    

    

    

    

    
            <div class="sectiontitle">Instance Public methods</div>
            
            <div class="method">
                <div class="title" id="M000147">
                    
                    <a name="M000147"></a><b>add_source</b>(source, options={})
                    
                </div>
                
                <div class="description">
                  <p>
Add the given source to Gemfile
</p>
<h4>Example</h4>
<pre>
  add_source &quot;http://gems.github.com/&quot;
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000147_source')" id="l_M000147_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/d246da1603a9833532a5eebb3836be25a87dfaa6/railties/lib/rails/generators/actions.rb#L107" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M000147_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File railties/lib/rails/generators/actions.rb, line 107</span>
107:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">add_source</span>(<span class="ruby-identifier">source</span>, <span class="ruby-identifier">options</span>={})
108:         <span class="ruby-identifier">log</span> <span class="ruby-identifier">:source</span>, <span class="ruby-identifier">source</span>
109: 
110:         <span class="ruby-identifier">in_root</span> <span class="ruby-keyword kw">do</span>
111:           <span class="ruby-identifier">prepend_file</span> <span class="ruby-value str">&quot;Gemfile&quot;</span>, <span class="ruby-node">&quot;source #{source.inspect}\n&quot;</span>, <span class="ruby-identifier">:verbose</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">false</span>
112:         <span class="ruby-keyword kw">end</span>
113:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000149">
                    
                    <a name="M000149"></a><b>application</b>(data=nil, options={}, &amp;block)
                    
                </div>
                
                <div class="description">
                  <p>
Alias for <a href="Actions.html#M000148">environment</a>
</p>

                </div>
                
                
                
            </div>
            
            <div class="method">
                <div class="title" id="M000157">
                    
                    <a name="M000157"></a><b>capify!</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Just run the capify command in root
</p>
<h4>Example</h4>
<pre>
  capify!
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000157_source')" id="l_M000157_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/d246da1603a9833532a5eebb3836be25a87dfaa6/railties/lib/rails/generators/actions.rb#L268" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M000157_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File railties/lib/rails/generators/actions.rb, line 268</span>
268:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">capify!</span>
269:         <span class="ruby-identifier">log</span> <span class="ruby-identifier">:capify</span>, <span class="ruby-value str">&quot;&quot;</span>
270:         <span class="ruby-identifier">in_root</span> { <span class="ruby-identifier">run</span>(<span class="ruby-node">&quot;#{extify(:capify)} .&quot;</span>, <span class="ruby-identifier">:verbose</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">false</span>) }
271:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000148">
                    
                    <a name="M000148"></a><b>environment</b>(data=nil, options={}, &amp;block)
                    
                </div>
                
                <div class="description">
                  <p>
Adds a line inside the <a href="../Application.html">Application</a> class
for config/application.rb.
</p>
<p>
If options :env is specified, the line is appended to the corresponding
file in config/environments.
</p>

                </div>
                
                
                <div class="aka">
                    This method is also aliased as
                    
                    <a href="Actions.html#M000149">application</a>
                    
                </div>
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000148_source')" id="l_M000148_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/d246da1603a9833532a5eebb3836be25a87dfaa6/railties/lib/rails/generators/actions.rb#L120" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M000148_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File railties/lib/rails/generators/actions.rb, line 120</span>
120:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">environment</span>(<span class="ruby-identifier">data</span>=<span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">options</span>={}, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
121:         <span class="ruby-identifier">sentinel</span> = <span class="ruby-regexp re">/class [a-z_:]+ &lt; Rails::Application/i</span>
122:         <span class="ruby-identifier">env_file_sentinel</span> = <span class="ruby-regexp re">/::Application\.configure do/</span>
123:         <span class="ruby-identifier">data</span> = <span class="ruby-identifier">block</span>.<span class="ruby-identifier">call</span> <span class="ruby-keyword kw">if</span> <span class="ruby-operator">!</span><span class="ruby-identifier">data</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">block_given?</span>
124: 
125:         <span class="ruby-identifier">in_root</span> <span class="ruby-keyword kw">do</span>
126:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:env</span>].<span class="ruby-identifier">nil?</span>
127:             <span class="ruby-identifier">inject_into_file</span> <span class="ruby-value str">'config/application.rb'</span>, <span class="ruby-node">&quot;\n    #{data}&quot;</span>, <span class="ruby-identifier">:after</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">sentinel</span>, <span class="ruby-identifier">:verbose</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">false</span>
128:           <span class="ruby-keyword kw">else</span>
129:             <span class="ruby-constant">Array</span>.<span class="ruby-identifier">wrap</span>(<span class="ruby-identifier">options</span>[<span class="ruby-identifier">:env</span>]).<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">env</span><span class="ruby-operator">|</span>
130:               <span class="ruby-identifier">inject_into_file</span> <span class="ruby-node">&quot;config/environments/#{env}.rb&quot;</span>, <span class="ruby-node">&quot;\n  #{data}&quot;</span>, <span class="ruby-identifier">:after</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">env_file_sentinel</span>, <span class="ruby-identifier">:verbose</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">false</span>
131:             <span class="ruby-keyword kw">end</span>
132:           <span class="ruby-keyword kw">end</span>
133:         <span class="ruby-keyword kw">end</span>
134:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000145">
                    
                    <a name="M000145"></a><b>gem</b>(*args)
                    
                </div>
                
                <div class="description">
                  <p>
Adds an entry into Gemfile for the supplied gem. If env is specified, add
the gem to the given environment.
</p>
<h4>Example</h4>
<pre>
  gem &quot;rspec&quot;, :group =&gt; :test
  gem &quot;technoweenie-restful-authentication&quot;, :lib =&gt; &quot;restful-authentication&quot;, :source =&gt; &quot;http://gems.github.com/&quot;
  gem &quot;rails&quot;, &quot;3.0&quot;, :git =&gt; &quot;git://github.com/rails/rails&quot;
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000145_source')" id="l_M000145_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/d246da1603a9833532a5eebb3836be25a87dfaa6/railties/lib/rails/generators/actions.rb#L52" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M000145_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File railties/lib/rails/generators/actions.rb, line 52</span>
52:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">gem</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
53:         <span class="ruby-identifier">options</span> = <span class="ruby-identifier">args</span>.<span class="ruby-identifier">extract_options!</span>
54:         <span class="ruby-identifier">name</span>, <span class="ruby-identifier">version</span> = <span class="ruby-identifier">args</span>
55: 
56:         <span class="ruby-comment cmt"># Set the message to be shown in logs. Uses the git repo if one is given,</span>
57:         <span class="ruby-comment cmt"># otherwise use name (version).</span>
58:         <span class="ruby-identifier">parts</span>, <span class="ruby-identifier">message</span> = [ <span class="ruby-identifier">name</span>.<span class="ruby-identifier">inspect</span> ], <span class="ruby-identifier">name</span>
59:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">version</span> <span class="ruby-operator">||=</span> <span class="ruby-identifier">options</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-identifier">:version</span>)
60:           <span class="ruby-identifier">parts</span>   <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">version</span>.<span class="ruby-identifier">inspect</span>
61:           <span class="ruby-identifier">message</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot; (#{version})&quot;</span>
62:         <span class="ruby-keyword kw">end</span>
63:         <span class="ruby-identifier">message</span> = <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:git</span>] <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:git</span>]
64: 
65:         <span class="ruby-identifier">log</span> <span class="ruby-identifier">:gemfile</span>, <span class="ruby-identifier">message</span>
66: 
67:         <span class="ruby-identifier">options</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">option</span>, <span class="ruby-identifier">value</span><span class="ruby-operator">|</span>
68:           <span class="ruby-identifier">parts</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;:#{option} =&gt; #{value.inspect}&quot;</span>
69:         <span class="ruby-keyword kw">end</span>
70: 
71:         <span class="ruby-identifier">in_root</span> <span class="ruby-keyword kw">do</span>
72:           <span class="ruby-identifier">str</span> = <span class="ruby-node">&quot;gem #{parts.join(&quot;, &quot;)}&quot;</span>
73:           <span class="ruby-identifier">str</span> = <span class="ruby-value str">&quot;  &quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">str</span> <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@in_group</span>
74:           <span class="ruby-identifier">str</span> = <span class="ruby-value str">&quot;\n&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">str</span>
75:           <span class="ruby-identifier">append_file</span> <span class="ruby-value str">&quot;Gemfile&quot;</span>, <span class="ruby-identifier">str</span>, <span class="ruby-identifier">:verbose</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">false</span>
76:         <span class="ruby-keyword kw">end</span>
77:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000146">
                    
                    <a name="M000146"></a><b>gem_group</b>(*names, &amp;block)
                    
                </div>
                
                <div class="description">
                  <p>
Wraps gem entries inside a group.
</p>
<h4>Example</h4>
<pre>
  gem_group :development, :test do
    gem &quot;rspec-rails&quot;
  end
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000146_source')" id="l_M000146_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/d246da1603a9833532a5eebb3836be25a87dfaa6/railties/lib/rails/generators/actions.rb#L87" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M000146_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File railties/lib/rails/generators/actions.rb, line 87</span>
 87:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">gem_group</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">names</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
 88:         <span class="ruby-identifier">name</span> = <span class="ruby-identifier">names</span>.<span class="ruby-identifier">map</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">:inspect</span>).<span class="ruby-identifier">join</span>(<span class="ruby-value str">&quot;, &quot;</span>)
 89:         <span class="ruby-identifier">log</span> <span class="ruby-identifier">:gemfile</span>, <span class="ruby-node">&quot;group #{name}&quot;</span>
 90: 
 91:         <span class="ruby-identifier">in_root</span> <span class="ruby-keyword kw">do</span>
 92:           <span class="ruby-identifier">append_file</span> <span class="ruby-value str">&quot;Gemfile&quot;</span>, <span class="ruby-node">&quot;\ngroup #{name} do&quot;</span>, <span class="ruby-identifier">:force</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">true</span>
 93: 
 94:           <span class="ruby-ivar">@in_group</span> = <span class="ruby-keyword kw">true</span>
 95:           <span class="ruby-identifier">instance_eval</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
 96:           <span class="ruby-ivar">@in_group</span> = <span class="ruby-keyword kw">false</span>
 97: 
 98:           <span class="ruby-identifier">append_file</span> <span class="ruby-value str">&quot;Gemfile&quot;</span>, <span class="ruby-value str">&quot;\nend\n&quot;</span>, <span class="ruby-identifier">:force</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">true</span>
 99:         <span class="ruby-keyword kw">end</span>
100:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000155">
                    
                    <a name="M000155"></a><b>generate</b>(what, *args)
                    
                </div>
                
                <div class="description">
                  <p>
Generate something using a generator from <a
href="../../Rails.html">Rails</a> or a plugin. The second parameter is the
argument string that is passed to the generator or an <a
href="../../Array.html">Array</a> that is joined.
</p>
<h4>Example</h4>
<pre>
  generate(:authenticated, &quot;user session&quot;)
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000155_source')" id="l_M000155_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/d246da1603a9833532a5eebb3836be25a87dfaa6/railties/lib/rails/generators/actions.rb#L240" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M000155_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File railties/lib/rails/generators/actions.rb, line 240</span>
240:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">generate</span>(<span class="ruby-identifier">what</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
241:         <span class="ruby-identifier">log</span> <span class="ruby-identifier">:generate</span>, <span class="ruby-identifier">what</span>
242:         <span class="ruby-identifier">argument</span> = <span class="ruby-identifier">args</span>.<span class="ruby-identifier">map</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">arg</span><span class="ruby-operator">|</span> <span class="ruby-identifier">arg</span>.<span class="ruby-identifier">to_s</span> }.<span class="ruby-identifier">flatten</span>.<span class="ruby-identifier">join</span>(<span class="ruby-value str">&quot; &quot;</span>)
243: 
244:         <span class="ruby-identifier">in_root</span> { <span class="ruby-identifier">run_ruby_script</span>(<span class="ruby-node">&quot;script/rails generate #{what} #{argument}&quot;</span>, <span class="ruby-identifier">:verbose</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">false</span>) }
245:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000150">
                    
                    <a name="M000150"></a><b>git</b>(commands={})
                    
                </div>
                
                <div class="description">
                  <p>
Run a command in git.
</p>
<h4>Examples</h4>
<pre>
  git :init
  git :add =&gt; &quot;this.file that.rb&quot;
  git :add =&gt; &quot;onefile.rb&quot;, :rm =&gt; &quot;badfile.cxx&quot;
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000150_source')" id="l_M000150_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/d246da1603a9833532a5eebb3836be25a87dfaa6/railties/lib/rails/generators/actions.rb#L145" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M000150_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File railties/lib/rails/generators/actions.rb, line 145</span>
145:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">git</span>(<span class="ruby-identifier">commands</span>={})
146:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">commands</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Symbol</span>)
147:           <span class="ruby-identifier">run</span> <span class="ruby-node">&quot;git #{commands}&quot;</span>
148:         <span class="ruby-keyword kw">else</span>
149:           <span class="ruby-identifier">commands</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">cmd</span>, <span class="ruby-identifier">options</span><span class="ruby-operator">|</span>
150:             <span class="ruby-identifier">run</span> <span class="ruby-node">&quot;git #{cmd} #{options}&quot;</span>
151:           <span class="ruby-keyword kw">end</span>
152:         <span class="ruby-keyword kw">end</span>
153:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000154">
                    
                    <a name="M000154"></a><b>initializer</b>(filename, data=nil, &amp;block)
                    
                </div>
                
                <div class="description">
                  <p>
Create a new initializer with the provided code (either in a block or a
string).
</p>
<h4>Examples</h4>
<pre>
  initializer(&quot;globals.rb&quot;) do
    data = &quot;&quot;

    ['MY_WORK', 'ADMINS', 'BEST_COMPANY_EVAR'].each do |const|
      data &lt;&lt; &quot;#{const} = :entp\n&quot;
    end

    data
  end

  initializer(&quot;api.rb&quot;, &quot;API_KEY = '123456'&quot;)
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000154_source')" id="l_M000154_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/d246da1603a9833532a5eebb3836be25a87dfaa6/railties/lib/rails/generators/actions.rb#L227" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M000154_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File railties/lib/rails/generators/actions.rb, line 227</span>
227:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">initializer</span>(<span class="ruby-identifier">filename</span>, <span class="ruby-identifier">data</span>=<span class="ruby-keyword kw">nil</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
228:         <span class="ruby-identifier">log</span> <span class="ruby-identifier">:initializer</span>, <span class="ruby-identifier">filename</span>
229:         <span class="ruby-identifier">create_file</span>(<span class="ruby-node">&quot;config/initializers/#{filename}&quot;</span>, <span class="ruby-identifier">data</span>, <span class="ruby-identifier">:verbose</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">false</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
230:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000152">
                    
                    <a name="M000152"></a><b>lib</b>(filename, data=nil, &amp;block)
                    
                </div>
                
                <div class="description">
                  <p>
Create a new file in the lib/ directory. Code can be specified in a block
or a data string can be given.
</p>
<h4>Examples</h4>
<pre>
  lib(&quot;crypto.rb&quot;) do
    &quot;crypted_special_value = '#{rand}--#{Time.now}--#{rand(1337)}--'&quot;
  end

  lib(&quot;foreign.rb&quot;, &quot;# Foreign code is fun&quot;)
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000152_source')" id="l_M000152_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/d246da1603a9833532a5eebb3836be25a87dfaa6/railties/lib/rails/generators/actions.rb#L183" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M000152_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File railties/lib/rails/generators/actions.rb, line 183</span>
183:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">lib</span>(<span class="ruby-identifier">filename</span>, <span class="ruby-identifier">data</span>=<span class="ruby-keyword kw">nil</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
184:         <span class="ruby-identifier">log</span> <span class="ruby-identifier">:lib</span>, <span class="ruby-identifier">filename</span>
185:         <span class="ruby-identifier">create_file</span>(<span class="ruby-node">&quot;lib/#{filename}&quot;</span>, <span class="ruby-identifier">data</span>, <span class="ruby-identifier">:verbose</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">false</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
186:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000144">
                    
                    <a name="M000144"></a><b>plugin</b>(name, options)
                    
                </div>
                
                <div class="description">
                  <p>
Install a plugin. You must provide either a Subversion url or Git url.
</p>
<p>
For a Git-hosted plugin, you can specify a branch and whether it should be
added as a submodule instead of cloned.
</p>
<p>
For a Subversion-hosted plugin you can specify a revision.
</p>
<h4>Examples</h4>
<pre>
  plugin 'restful-authentication', :git =&gt; 'git://github.com/technoweenie/restful-authentication.git'
  plugin 'restful-authentication', :git =&gt; 'git://github.com/technoweenie/restful-authentication.git', :branch =&gt; 'stable'
  plugin 'restful-authentication', :git =&gt; 'git://github.com/technoweenie/restful-authentication.git', :submodule =&gt; true
  plugin 'restful-authentication', :svn =&gt; 'svn://svnhub.com/technoweenie/restful-authentication/trunk'
  plugin 'restful-authentication', :svn =&gt; 'svn://svnhub.com/technoweenie/restful-authentication/trunk', :revision =&gt; 1234
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000144_source')" id="l_M000144_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/d246da1603a9833532a5eebb3836be25a87dfaa6/railties/lib/rails/generators/actions.rb#L24" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M000144_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File railties/lib/rails/generators/actions.rb, line 24</span>
24:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">plugin</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">options</span>)
25:         <span class="ruby-identifier">log</span> <span class="ruby-identifier">:plugin</span>, <span class="ruby-identifier">name</span>
26: 
27:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:git</span>] <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:submodule</span>]
28:           <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:git</span>] = <span class="ruby-node">&quot;-b #{options[:branch]} #{options[:git]}&quot;</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:branch</span>]
29:           <span class="ruby-identifier">in_root</span> <span class="ruby-keyword kw">do</span>
30:             <span class="ruby-identifier">run</span> <span class="ruby-node">&quot;git submodule add #{options[:git]} vendor/plugins/#{name}&quot;</span>, <span class="ruby-identifier">:verbose</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">false</span>
31:           <span class="ruby-keyword kw">end</span>
32:         <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:git</span>] <span class="ruby-operator">||</span> <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:svn</span>]
33:           <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:git</span>] = <span class="ruby-node">&quot;-b #{options[:branch]} #{options[:git]}&quot;</span>   <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:branch</span>]
34:           <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:svn</span>] = <span class="ruby-node">&quot;-r #{options[:revision]} #{options[:svn]}&quot;</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:revision</span>]
35:           <span class="ruby-identifier">in_root</span> <span class="ruby-keyword kw">do</span>
36:             <span class="ruby-identifier">run_ruby_script</span> <span class="ruby-node">&quot;script/rails plugin install #{options[:svn] || options[:git]}&quot;</span>, <span class="ruby-identifier">:verbose</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">false</span>
37:           <span class="ruby-keyword kw">end</span>
38:         <span class="ruby-keyword kw">else</span>
39:           <span class="ruby-identifier">log</span> <span class="ruby-node">&quot;! no git or svn provided for #{name}. Skipping...&quot;</span>
40:         <span class="ruby-keyword kw">end</span>
41:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000156">
                    
                    <a name="M000156"></a><b>rake</b>(command, options={})
                    
                </div>
                
                <div class="description">
                  <p>
Runs the supplied rake task
</p>
<h4>Example</h4>
<pre>
  rake(&quot;db:migrate&quot;)
  rake(&quot;db:migrate&quot;, :env =&gt; &quot;production&quot;)
  rake(&quot;gems:install&quot;, :sudo =&gt; true)
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000156_source')" id="l_M000156_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/d246da1603a9833532a5eebb3836be25a87dfaa6/railties/lib/rails/generators/actions.rb#L255" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M000156_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File railties/lib/rails/generators/actions.rb, line 255</span>
255:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">rake</span>(<span class="ruby-identifier">command</span>, <span class="ruby-identifier">options</span>={})
256:         <span class="ruby-identifier">log</span> <span class="ruby-identifier">:rake</span>, <span class="ruby-identifier">command</span>
257:         <span class="ruby-identifier">env</span>  = <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:env</span>] <span class="ruby-operator">||</span> <span class="ruby-constant">ENV</span>[<span class="ruby-value str">&quot;RAILS_ENV&quot;</span>] <span class="ruby-operator">||</span> <span class="ruby-value str">'development'</span>
258:         <span class="ruby-identifier">sudo</span> = <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:sudo</span>] <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-constant">RbConfig</span><span class="ruby-operator">::</span><span class="ruby-constant">CONFIG</span>[<span class="ruby-value str">'host_os'</span>] <span class="ruby-operator">!~</span> <span class="ruby-regexp re">/mswin|mingw/</span> <span class="ruby-operator">?</span> <span class="ruby-value str">'sudo '</span> <span class="ruby-operator">:</span> <span class="ruby-value str">''</span>
259:         <span class="ruby-identifier">in_root</span> { <span class="ruby-identifier">run</span>(<span class="ruby-node">&quot;#{sudo}#{extify(:rake)} #{command} RAILS_ENV=#{env}&quot;</span>, <span class="ruby-identifier">:verbose</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">false</span>) }
260:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000153">
                    
                    <a name="M000153"></a><b>rakefile</b>(filename, data=nil, &amp;block)
                    
                </div>
                
                <div class="description">
                  <p>
Create a new Rakefile with the provided code (either in a block or a
string).
</p>
<h4>Examples</h4>
<pre>
  rakefile(&quot;bootstrap.rake&quot;) do
    project = ask(&quot;What is the UNIX name of your project?&quot;)

    &lt;&lt;-TASK
      namespace :#{project} do
        task :bootstrap do
          puts &quot;i like boots!&quot;
        end
      end
    TASK
  end

  rakefile(&quot;seed.rake&quot;, &quot;puts 'im plantin ur seedz'&quot;)
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000153_source')" id="l_M000153_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/d246da1603a9833532a5eebb3836be25a87dfaa6/railties/lib/rails/generators/actions.rb#L206" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M000153_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File railties/lib/rails/generators/actions.rb, line 206</span>
206:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">rakefile</span>(<span class="ruby-identifier">filename</span>, <span class="ruby-identifier">data</span>=<span class="ruby-keyword kw">nil</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
207:         <span class="ruby-identifier">log</span> <span class="ruby-identifier">:rakefile</span>, <span class="ruby-identifier">filename</span>
208:         <span class="ruby-identifier">create_file</span>(<span class="ruby-node">&quot;lib/tasks/#{filename}&quot;</span>, <span class="ruby-identifier">data</span>, <span class="ruby-identifier">:verbose</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">false</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
209:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000159">
                    
                    <a name="M000159"></a><b>readme</b>(path)
                    
                </div>
                
                <div class="description">
                  <p>
Reads the given file at the source root and prints it in the console.
</p>
<h3>Example</h3>
<pre>
  readme &quot;README&quot;
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000159_source')" id="l_M000159_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/d246da1603a9833532a5eebb3836be25a87dfaa6/railties/lib/rails/generators/actions.rb#L294" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M000159_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File railties/lib/rails/generators/actions.rb, line 294</span>
294:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">readme</span>(<span class="ruby-identifier">path</span>)
295:         <span class="ruby-identifier">log</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">read</span>(<span class="ruby-identifier">find_in_source_paths</span>(<span class="ruby-identifier">path</span>))
296:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000158">
                    
                    <a name="M000158"></a><b>route</b>(routing_code)
                    
                </div>
                
                <div class="description">
                  <p>
Make an entry in <a href="../../Rails.html">Rails</a> routing file
config/routes.rb
</p>
<h3>Example</h3>
<pre>
  route &quot;root :to =&gt; 'welcome'&quot;
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000158_source')" id="l_M000158_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/d246da1603a9833532a5eebb3836be25a87dfaa6/railties/lib/rails/generators/actions.rb#L279" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M000158_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File railties/lib/rails/generators/actions.rb, line 279</span>
279:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">route</span>(<span class="ruby-identifier">routing_code</span>)
280:         <span class="ruby-identifier">log</span> <span class="ruby-identifier">:route</span>, <span class="ruby-identifier">routing_code</span>
281:         <span class="ruby-identifier">sentinel</span> = <span class="ruby-regexp re">/\.routes\.draw do(?:\s*\|map\|)?\s*$/</span>
282: 
283:         <span class="ruby-identifier">in_root</span> <span class="ruby-keyword kw">do</span>
284:           <span class="ruby-identifier">inject_into_file</span> <span class="ruby-value str">'config/routes.rb'</span>, <span class="ruby-node">&quot;\n  #{routing_code}\n&quot;</span>, { <span class="ruby-identifier">:after</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">sentinel</span>, <span class="ruby-identifier">:verbose</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">false</span> }
285:         <span class="ruby-keyword kw">end</span>
286:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000151">
                    
                    <a name="M000151"></a><b>vendor</b>(filename, data=nil, &amp;block)
                    
                </div>
                
                <div class="description">
                  <p>
Create a new file in the vendor/ directory. Code can be specified in a
block or a data string can be given.
</p>
<h4>Examples</h4>
<pre>
  vendor(&quot;sekrit.rb&quot;) do
    sekrit_salt = &quot;#{Time.now}--#{3.years.ago}--#{rand}--&quot;
    &quot;salt = '#{sekrit_salt}'&quot;
  end

  vendor(&quot;foreign.rb&quot;, &quot;# Foreign code is fun&quot;)
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000151_source')" id="l_M000151_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/d246da1603a9833532a5eebb3836be25a87dfaa6/railties/lib/rails/generators/actions.rb#L167" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M000151_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File railties/lib/rails/generators/actions.rb, line 167</span>
167:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">vendor</span>(<span class="ruby-identifier">filename</span>, <span class="ruby-identifier">data</span>=<span class="ruby-keyword kw">nil</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
168:         <span class="ruby-identifier">log</span> <span class="ruby-identifier">:vendor</span>, <span class="ruby-identifier">filename</span>
169:         <span class="ruby-identifier">create_file</span>(<span class="ruby-node">&quot;vendor/#{filename}&quot;</span>, <span class="ruby-identifier">data</span>, <span class="ruby-identifier">:verbose</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">false</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
170:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="sectiontitle">Instance Protected methods</div>
            
            <div class="method">
                <div class="title" id="M000161">
                    
                    <a name="M000161"></a><b>extify</b>(name)
                    
                </div>
                
                <div class="description">
                  <p>
Add an extension to the given name based on the platform.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000161_source')" id="l_M000161_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/d246da1603a9833532a5eebb3836be25a87dfaa6/railties/lib/rails/generators/actions.rb#L315" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M000161_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File railties/lib/rails/generators/actions.rb, line 315</span>
315:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">extify</span>(<span class="ruby-identifier">name</span>)
316:           <span class="ruby-keyword kw">if</span> <span class="ruby-constant">RbConfig</span><span class="ruby-operator">::</span><span class="ruby-constant">CONFIG</span>[<span class="ruby-value str">'host_os'</span>] <span class="ruby-operator">=~</span> <span class="ruby-regexp re">/mswin|mingw/</span>
317:             <span class="ruby-node">&quot;#{name}.bat&quot;</span>
318:           <span class="ruby-keyword kw">else</span>
319:             <span class="ruby-identifier">name</span>
320:           <span class="ruby-keyword kw">end</span>
321:         <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000160">
                    
                    <a name="M000160"></a><b>log</b>(*args)
                    
                </div>
                
                <div class="description">
                  <p>
Define log for backwards compatibility. If just one argument is sent,
invoke say, otherwise invoke say_status. Differently from say and similarly
to say_status, this method respects the quiet? option given.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000160_source')" id="l_M000160_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/d246da1603a9833532a5eebb3836be25a87dfaa6/railties/lib/rails/generators/actions.rb#L304" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M000160_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File railties/lib/rails/generators/actions.rb, line 304</span>
304:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">log</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
305:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">args</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">==</span> <span class="ruby-value">1</span>
306:             <span class="ruby-identifier">say</span> <span class="ruby-identifier">args</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">to_s</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">options</span>.<span class="ruby-identifier">quiet?</span>
307:           <span class="ruby-keyword kw">else</span>
308:             <span class="ruby-identifier">args</span> <span class="ruby-operator">&lt;&lt;</span> (<span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">behavior</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">:invoke</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">:green</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">:red</span>)
309:             <span class="ruby-identifier">say_status</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
310:           <span class="ruby-keyword kw">end</span>
311:         <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
</div>
    </div>
  </body>
</html>    